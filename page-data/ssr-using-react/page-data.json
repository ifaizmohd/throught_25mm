{"componentChunkName":"component---src-templates-blog-post-js","path":"/ssr-using-react/","result":{"data":{"markdownRemark":{"html":"<p>In this post, we are going to talk about server-side rendering using react.</p>\n<p>If you are wondering what Server-Side Rendering(SSR) means, here is a quick introduction.</p>\n<p>There are two types of rendering mechanisms -</p>\n<ul>\n<li>Client Side Rendering.</li>\n<li>Server Side Rendering.</li>\n</ul>\n<p>In client-side rendering, the user's browser is responsible for rendering the content, i.e., your react code will be compiled by the browser's javascript engine and then generate the Html out of that. On the other hand, in server-side rendering, your react components will be rendered on the server and sent to the client.</p>\n<h3>Why is SSR getting popular these days?</h3>\n<p>SSR brings a lot of added functionalities to the web app. One of the key benefits is better search engine optimization. As Html is pre-generated on the server, it allows search engine crawlers to extract the metadata of the web page to provide better indexing. It also holds performance improvements like faster initial load time.</p>\n<h3>How to achieve Server-Side Rendering with ReactJS.</h3>\n<p>There are many frameworks and libraries, which provide SSR functionality out of the box - Remix, NextJS, etc. But in this post, we will set up a project which allows us to do SSR.</p>\n<p>We will be using ExpressJS. Express is a NodeJS web application framework that allows us to set up a backend server and handle HTTP requests.</p>\n<h3>Setting up new project.</h3>\n<ol>\n<li>\n<p>Create a new directory.\n<code>mkdir react-ssr</code></p>\n</li>\n<li>\n<p>Initialize new project by running <code>yarn init</code> or <code>npm init</code>.</p>\n</li>\n<li>\n<p>Create server.js file in the root directory. This will be the entry point of our application.</p>\n</li>\n</ol>\n<p><em>Here is an example server.js file -</em></p>\n<pre><code class=\"language-javascript\">import express from \"express\"\nimport renderer from \"./helpers/renderer\"\n\nconst app = express()\nconst port = 3000\napp.use(express.static(\"public\"))\n\napp.get(\"*\", (req, res) => {\n  res.send(renderer())\n})\n\napp.listen(port, () => console.log(`app is running on ${port}`))\n</code></pre>\n<p>At this point, our server is ready to serve the requests. Now, lets create a simple react component which we are going to send through our server.</p>\n<ol start=\"4\">\n<li>\n<p>Create a src directory inside the root directory.</p>\n</li>\n<li>\n<p>Create a client directory inside src.</p>\n</li>\n<li>\n<p>Create a component folder inside client.</p>\n</li>\n</ol>\n<p>Your directory structure will looks like -</p>\n<p><em>Home component</em></p>\n<pre><code class=\"language-javascript\">import React from \"react\"\n\nconst Home = () => {\n  return (\n    &#x3C;div>\n      &#x3C;div>I'm SSR Home component&#x3C;/div>\n    &#x3C;/div>\n  )\n}\n\nexport default Home\n</code></pre>\n<p>Untill now, we have created a server and a Home component. As you have seen in the above code snippet, we are sending\n<code>renderer(req)</code>. This is a custom function we've made to sent down react components.</p>\n<p><em>Code for <code>renderer()</code> function follows.</em></p>\n<pre><code class=\"language-javascript\">import { renderToString } from \"react-dom/server\"\nimport Home from \"../client/components/Home\"\n\nexport default () => {\n  const content = renderToString(&#x3C;Home />)\n  return `\n    &#x3C;html>\n        &#x3C;head>&#x3C;/head>\n        &#x3C;body>\n            &#x3C;div id=\"root\">${content}&#x3C;/div>\n            &#x3C;script src=\"bundle.js\">&#x3C;/script>\n        &#x3C;/body>\n    &#x3C;/html>\n  `\n}\n</code></pre>\n<p>If you noticed in the above code snippet, we've used <code>renderToString()</code> method from <code>ReactDOMServer</code>, React will return an Html string. You can use this method to generate Html on the server and serves on the initial request for faster page loads.</p>\n<p>As of now, our react component is rendered on the browser, if we try to attach react synthetic events, it won't work, because we just shipped the Html template to the client.</p>\n<p>To bind the events onto the template, we need to hydrate the Html DOM on the client.</p>\n<p><em>Hydration code follows as -</em></p>\n<pre><code class=\"language-javascript\">import React from \"react\"\nimport ReactDom from \"react-dom\"\n\nReactDom.hydrate(&#x3C;Home />, document.querySelector(\"#root\"))\n</code></pre>","frontmatter":{"title":"React Server Side Rendering(SSR)."}}},"pageContext":{"defer":true,"slug":"/ssr-using-react/"}},"staticQueryHashes":["3649515864"],"slicesMap":{}}